<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#1d0936" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="manifest" href="./manifest.webmanifest">
  <link rel="apple-touch-icon" href="./icons/icon-192.png">
    <title>2048 3D</title>
    <link rel="preconnect" href="https://unpkg.com" crossorigin>
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
  <div id="bootStatus" style="position:fixed;top:8px;left:8px;z-index:9999;padding:6px 10px;background:rgba(0,0,0,0.6);color:#fff;font:12px/1.3 Segoe UI,Arial,sans-serif;border-radius:6px;">Loadingâ€¦</div>
  <div id="hud">
      <div class="brand">2048 3D</div>
      <div class="scores">
        <div class="score-box">
          <div class="label">Score</div>
          <div id="score" class="value">0</div>
        </div>
        <div class="score-box">
          <div class="label">Best</div>
          <div id="best" class="value">0</div>
        </div>
      </div>
      <button id="newGame" class="btn">New Game</button>
    </div>

    <div id="overlay" hidden>
      <div class="card">
        <h2 id="overlayTitle">Game Over</h2>
        <p id="overlaySubtitle">No more moves available</p>
        <button id="tryAgain" class="btn primary">Try Again</button>
      </div>
    </div>

    <!-- three.js and tween.js UMD builds -->
    <script>
      (function(){
        function fail(msg){
          var d=document.createElement('div');
          d.style.cssText='position:fixed;inset:0;display:grid;place-items:center;background:#0b0b20;color:#fff;font-family:Segoe UI,Arial,sans-serif;z-index:9999';
          d.textContent=msg;
          document.addEventListener('DOMContentLoaded',function(){document.body.appendChild(d)});
        }
        window.addEventListener('error',function(e){ if(!/favicon\.ico/.test(String(e.filename))) fail('A script failed to load. Check your network.'); });
      })();
    </script>
  <script src="./vendor/three.min.js"></script>
  <script src="./vendor/tween.umd.js"></script>
    <script>
      // Register service worker for PWA/offline support
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', function() {
          navigator.serviceWorker.register('./sw.js').catch(function(err){
            console.warn('SW registration failed', err);
          });
        });
      }
    </script>
    <script src="./main.js"></script>
  </body>
  </html>
